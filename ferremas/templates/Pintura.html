{% extends 'base.html' %}

{% block body %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/style.css' %}">


<br><br>
<div class="header-content container">
    <div class="header-txt">
      <h1>Pinturas y Esmaltes</h1>

{% if messages %}
        <ul class="messages">
            {% for message in messages %}
                <li class="{% if message.tags %} {{ message.tags }} {% endif %}">{{ message }}</li>
            {% endfor %}
        </ul>
    {% endif %}


<div class="box-container" id="lista-1">
<!-- Tarjeta de producto 1 -->
<div class="box">
<div class="product-card" data-id-articulo="1">
    <h2 class="nombre">Esmalte al agua</h2>
    <img src="https://http2.mlstatic.com/D_NQ_NP_613308-MLA74406138908_022024-O.webp" alt="Imagen del Producto 1" style="width: 200px; height: auto;">
    <p class="product-description">Descripción del producto 1</p>
    <p class="precio">Precio: $7.990</p>
    <form action="{% url 'agregar_al_carrito' %}" method="post" class="d-inline" id="form-agregar-al-carrito">
        {% csrf_token %}
        <!-- Agrega un campo oculto para el nombre del producto -->
        <input type="hidden" name="nombre" id="nombre" value="Esmalte al agua">
        <!-- Agrega un campo oculto para el precio del producto -->
        <input type="hidden" name="precio" id="precio" value="7990">
        <input type="hidden" name="id_articulo" id="id_articulo" value="">
        <input type="hidden" name="unique_id" value="{{ unique_id }}">
        <button type="submit" class="btn btn-secondary">Añadir al carrito</button>
    </form>
</div>
</div>



<!-- Tarjeta de producto 2 -->
<div class="box">
<div class="product-card" data-id-articulo="2">
    <h2 class="nombre">Pintura cafe</h2>
    <img src="https://www.ferreteriacerda.cl/autoadministracion/bodegatec/catalogo/fotos_chicas/208-1.jpeg" alt="Imagen del Producto 2" style="width: 200px; height: auto;">
    <p class="product-description">Descripción del producto 2</p>
    <p class="precio">Precio: $7.990</p>
    <form action="{% url 'agregar_al_carrito' %}" method="post" class="d-inline" id="form-agregar-al-carrito-2">
        {% csrf_token %}
        <!-- Agrega un campo oculto para el nombre del producto -->
        <input type="hidden" name="nombre" id="nombre" value="Pintura cafe">
        <!-- Agrega un campo oculto para el precio del producto -->
        <input type="hidden" name="precio" id="precio" value="7990">
        <input type="hidden" name="id_articulo" id="id_articulo" value="">
        <input type="hidden" name="unique_id" value="{{ unique_id }}">
        <button type="submit" class="btn btn-secondary">Añadir al carrito</button>
    </form>
</div>
</div>

<!-- Tarjeta de producto 3 -->
<div class="box">
<div class="product-card" data-id-articulo="3">
    <h2 class="nombre">Pintura verde</h2>
    <img src="https://ferreteriaferromaq.cl/wp-content/uploads/2021/04/rrss-2-2.png" alt="Imagen del Producto 3" style="width: 200px; height: auto;">
    <p class="product-description">Descripción del producto 3</p>
    <p class="precio">Precio: $7.990</p>
    <form action="{% url 'agregar_al_carrito' %}" method="post" class="d-inline" id="form-agregar-al-carrito-3">
        {% csrf_token %}
        <!-- Agrega un campo oculto para el nombre del producto -->
        <input type="hidden" name="nombre" id="nombre" value="Pintura verde">
        <!-- Agrega un campo oculto para el precio del producto -->
        <input type="hidden" name="precio" id="precio" value="7990">
        <input type="hidden" name="id_articulo" id="id_articulo" value="">
        <input type="hidden" name="unique_id" value="{{ unique_id }}">
        <button type="submit" class="btn btn-secondary">Añadir al carrito</button>
    </form>
</div>
</div>


<!-- Agrega más tarjetas de productos según sea necesario -->

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const productCards = document.querySelectorAll('.product-card');
        productCards.forEach(card => {
            card.addEventListener('click', function() {
                const id_articulo = card.getAttribute('data-id-articulo');
                document.getElementById('id_articulo').value = id_articulo;
                document.getElementById('form-agregar-al-carrito').submit();
            });
        });
    });
</script>
</div>

</div>
</div>
<br><br>    
<!-- <script src="{% static 'js/cart.js' %}"></script> -->

{% endblock %}
